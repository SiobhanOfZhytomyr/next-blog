{"ast":null,"code":"import { takeEvery, call, put } from \"redux-saga/effects\";\nimport { createComment, addComment, apiError } from './store/store';\nimport { postComment } from '../lib/api';\n\nfunction* commentWorkerSaga(action) {\n  try {\n    const res = yield call(postComment, action.payload);\n    yield put(addComment(res));\n  } catch (e) {\n    yield put(apiError(e));\n  }\n}\n\nexport function* rootSaga() {\n  yield takeEvery(createComment, commentWorkerSaga);\n}","map":{"version":3,"sources":["/home/nik/projects/js/next-blog/redux/sagas.ts"],"names":["takeEvery","call","put","createComment","addComment","apiError","postComment","commentWorkerSaga","action","res","payload","e","rootSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,QAAqC,oBAArC;AAEA,SAAQC,aAAR,EAAmCC,UAAnC,EAA8CC,QAA9C,QAA6D,eAA7D;AACA,SAAQC,WAAR,QAA0B,YAA1B;;AAEA,UAAUC,iBAAV,CAA4BC,MAA5B,EAAoC;AAChC,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMR,IAAI,CAACK,WAAD,EAAcE,MAAM,CAACE,OAArB,CAAtB;AACA,UAAMR,GAAG,CAACE,UAAU,CAACK,GAAD,CAAX,CAAT;AACH,GAHD,CAIA,OAAME,CAAN,EAAS;AACL,UAAMT,GAAG,CAACG,QAAQ,CAACM,CAAD,CAAT,CAAT;AACH;AACJ;;AAED,OAAO,UAAUC,QAAV,GAAqB;AACxB,QAAMZ,SAAS,CAACG,aAAD,EAAgBI,iBAAhB,CAAf;AACH","sourcesContent":["import { takeEvery, call, put } from \"redux-saga/effects\";\nimport {Comment, RawComment} from '../lib/types'\nimport {createComment, createPost, addComment,apiError} from './store/store'\nimport {postComment} from '../lib/api'\n\nfunction* commentWorkerSaga(action) {\n    try {\n        const res = yield call(postComment, action.payload)\n        yield put(addComment(res))\n    }\n    catch(e) {\n        yield put(apiError(e))\n    }\n}\n\nexport function* rootSaga() {\n    yield takeEvery(createComment, commentWorkerSaga);\n}"]},"metadata":{},"sourceType":"module"}